{% extends "core/base.html" %}
{% load static %}
{% block content %}
  <br>

  <div style="margin-top: 30px; margin-bottom: 30px;">
    <div class="header-carousel">
      <div id="carouselId" class="carousel slide" data-bs-ride="carousel" data-bs-interval="false">
        <ol class="carousel-indicators">
          <li data-bs-target="#carouselId" data-bs-slide-to="0" class="active" aria-current="true" aria-label="First slide"></li>
          <li data-bs-target="#carouselId" data-bs-slide-to="1" aria-label="Second slide"></li>
        </ol>
        <div class="carousel-inner" role="listbox">
            <div class="carousel-item active">
                <img src="{% static 'img/carousel-2.jpg' %}" class="img-fluid w-100" alt="First slide" style="margin-bottom: 20px; width: 800px; height: 1000px;">
            
            <div class="carousel-caption">
              <div class="container py-4 ">
                <div class="row g-2 ">
                  <div class="col-lg-8 col-md-5 col-sm-4 margin-top: 20px;" >
                    <div class="bg-secondary p-5 rounded text-center ">
                      <h4 class="display-6" style="color:white; margin-top: 20px;">
                        <img src="{% static 'img/car-icon.png' %}" alt="Car Icon" style="width: 50px; height: auto; margin-right: 10px;">
                        Add New Car
                      </h4>
                      <br>
                      <form action="." method="post" enctype="multipart/form-data" class="d-flex flex-column justify-content-center align-items-center">
                        {% csrf_token %}
                        <div class="row g-3 justify-content-center">

                          <div class="col-8">
                            <table class="table table-borderless" style="width: 100%; margin-bottom: 0;">
                              <tbody>
                                <tr class="text-center">
                                  <td class="text-center" style="padding-right: 0;">
                                    {{ form.category.label_tag }}
                                  </td>
                                  <td class="text-center" style="padding-left: 0;">
                                    <select name="category" id="id_category" class="form-control square-select" style="margin: 0;">
                                      <option value="" disabled selected>--------------------------------------</option>
                                      {% for choice in form.category.field.queryset %}
                                      <option value="{{ choice.id }}" {% if choice.id == form.category.value %}selected{% endif %}>
                                        {{ choice.name }}
                                      </option>
                                      {% endfor %}
                                    </select>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>

                          <div class="col-10 col-lg-6">
                            <table class="table table-borderless">
                              <tbody>
                                <tr>
                                  <td class="text-right" style="padding-right: 10px;">{{ form.name.label_tag }}</td>
                                  <td style="padding-left: 10px;">{{ form.name }}</td>
                                </tr>
                                <tr>
                                  <td class="text-right" style="padding-right: 10px;">{{ form.company.label_tag }}</td>
                                  <td style="padding-left: 10px;">{{ form.company }}</td>
                                </tr>
                                <tr>
                                  <td class="text-right" style="padding-right: 10px;">{{ form.model.label_tag }}</td>
                                  <td style="padding-left: 10px;">{{ form.model }}</td>
                                </tr>
                                <tr>
                                  <td class="text-right" style="padding-right: 10px;">{{ form.seats.label_tag }}</td>
                                  <td style="padding-left: 10px;">{{ form.seats }}</td>
                                </tr>
                              </tbody>
                            </table>
                          </div>

                          <div class="col-12 col-lg-6">
                            <table class="table table-borderless">
                              <tbody>
                                <tr>
                                  <td class="text-right" style="padding-right: 10px;">{{ form.fuel_type.label_tag }}</td>
                                  <td style="padding-left: 10px;">{{ form.fuel_type }}</td>
                                </tr>
                                <tr>
                                  <td class="text-right" style="padding-right: 10px;">{{ form.gear_type.label_tag }}</td>
                                  <td style="padding-left: 10px;">{{ form.gear_type }}</td>
                                </tr>
                                <tr>
                                  <td class="text-right" style="padding-right: 10px;">{{ form.price.label_tag }}</td>
                                  <td style="padding-left: 10px;">{{ form.price }}</td>
                                </tr>
                                <tr>
                                  <td class="text-right" style="padding-right: 10px;">{{ form.description.label_tag }}</td>
                                  <td style="padding-left: 10px;">{{ form.description }}</td>
                                </tr>
                              </tbody>
                            </table>
                          </div>

                          <div class="col-12">
                            <table class="table table-borderless">
                              <tbody>
                                <tr>
                                  <td class="text-center">
                                    {{ form.image.label_tag }}
                                  </td>
                                  <td class="text-center">
                                    {{ form.image }}
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>

                          <div class="col-12 text-center" style="margin-top: 10px;">
                            <button type="submit" class="btn btn-outline-light btn-lg">Add car</button>
                          </div>

                        </div>
                        {% if form.errors %}
                        <div class="mb-3 p-6 bg-red-100 rounded-xl" style="margin-top: 20px; color: white;">
                          <ul>
                            {% for field in form %}
                            {% for error in field.errors %}
                            <li>{{ error }}</li>
                            {% endfor %}
                            {% endfor %}
                          </ul>
                        </div>
                        {% endif %}
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <br>
  </div>
{% endblock content %}